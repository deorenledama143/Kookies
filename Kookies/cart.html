<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Kookie Cart</title>

  <!-- Link to CSS -->
  <link rel="stylesheet" href="cart.css">

  <!-- Poppins font (same as Figma) -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>

  
  <!-- Page background + centered wrapper -->
  <div class="page-wrapper">

    <!-- Header card -->
    <header class="cart-header">
      <div class="header-inner">

        <!-- Left area: back button + logo + title -->
        <div class="left-area">
          <button class="back-btn"  aria-label="Go back">
            <img src="images/Back.png" alt="Back" class="icon-img">
          </button>

          <img src="images/kookie logo.png" alt="Kookie logo" class="logo-img">

          <span class="vertical-divider" aria-hidden="true"></span>

          <div class="title-block">
            <div class="page-title">Kookie Cart</div>
          </div>
        </div>

        <!-- Right area: search
        <div class="right-area">
          <div class="search-pill" role="search">
            <input type="search" id="productSearch" placeholder="Search products">
            <button  id="searchBtn" type="button" class="search-btn" aria-label="Search">
              <img src="images/search.png" alt="Search"  class="search-icon">
            </button>
          </div>
        </div>  -->

      </div>
    </header>

    <!-- CART CONTENT -->
    <main class="cart-content">

    <!-- LABEL ROW -->
    <section class="label-row">
      <div class="label-inner">
        <div class="label-product">
          <img src="images/store.png" alt="Shop Icon" class="shop-icon">
          <span class="label-title">Kookie</span>
          
        </div>

        <div class="label-quantity">Quantity</div>
        <div class="label-total">Total Price</div>
        <div class="label-actions">Actions</div>
      </div>
    </section>

    <!-- ORDER LIST -->
    <div class="order-list" id="orderList">
     
       <!--<section class="order-row">
        <div class="order-inner">
          <div class="order-select">
            <input type="checkbox" class="item-checkbox">
          </div>

          <div class="order-product">
            <img src="images/oreo 1.png" alt="Kookie Product" class="product-img">
            <div class="product-info">
             
              <label class="variation-label">Variations:</label>
              
              <select class="variation-dropdown">
                <option>Brk Cookie</option>
                <option>Churro Cookie</option>
                <option>Galaxy Cookie</option>
                <option>Ice Cream Cookie</option>
                <option>Milk & Cookies</option>
                <option>Monday Blue</option>
                <option>Oreo-stuffed</option>
                <option>White Chocolate</option>
                <option>Red Cookie</option>
                <option>Raspberry Cookie</option>
                <option>Biscoff Cookie</option>
                <option>Dark Chocolate</option>
                <option>Assorted Cookie (4pcs)</option>
                <option>Assorted Cookie (6pcs)</option>
              </select>
              
              <div class="product-name">Brk Cookie</div>
               <label class="product-label">Delicious Home-made Cookies! </label>
              <div class="product-price">₱120.00</div>
            </div>
          </div>

          <div class="order-quantity">
            <button class="qty-btn minus"><img src="images/minus.png" alt="Minus"></button>
            <input type="text" value="1" class="qty-input" readonly>
            <button class="qty-btn plus"><img src="images/plus.png" alt="Plus"></button>
          </div>

          <div class="order-total">₱120.00</div>

          <div class="order-delete">
            <img src="images/delete.png" alt="Delete" class="delete-icon">
          </div>
        </div>
      </section>// -->

    </div>
  </main>


  <!-- CART SUMMARY SECTION -->
  <section class="cart-summary">
    <div class="summary-inner">

      <!-- Voucher Row -->
      <div class="voucher-row">
        <div class="voucher-top">
          <img src="images/voucher.png" alt="Voucher Icon" class="voucher-icon">
          <span class="voucher-label">Platform Voucher</span>
          <button class="voucher-btn">Select voucher</button>
        </div>
      </div>

      <span id="appliedVoucherText" class="applied-voucher-text"></span>


     <div class="cart-total">
  <div class="total-amount">
    <span>Total Amount:</span>
    <span id="grandTotal">₱0.00</span>
  </div>
  <button id="checkoutBtn" class="checkout-btn">Checkout(0)</button>
</div>

  
      


      <!-- Select/Delete/Checkout Row
      <div class="summary-bottom">
        <div class="summary-left">
          <input type="checkbox" id="select-all">
          <label for="select-all">Select All</label>
          <button class="delete-all-btn">Delete All</button>
        </div>  -->

       
      </div>
    </div>
  </section>

  <!-- VOUCHER MODAL -->
  <!-- Voucher Modal -->
<div id="voucherModal" class="voucher-modal" style="display:none; position: fixed; top:0; left:0; width:100vw; height:100vh; background:rgba(0,0,0,0.4); z-index:10000; align-items:center; justify-content:center;">
  <div class="voucher-modal-content" style="background:#fff; border-radius:8px; box-shadow:0 0 15px rgba(0,0,0,0.2); width:320px; padding:20px;">
    <h3 style="margin-bottom:1rem; font-weight:bold; text-align:center;">Select a Voucher</h3>
    <form id="voucherForm" style="display:flex; flex-direction: column; gap:0.8rem; font-size: 0.95rem;">
      <label style="cursor:pointer;">
        <input type="radio" name="voucher" value="10" style="margin-right:0.6rem;"> ₱10 OFF
      </label>
      <label style="cursor:pointer;">
        <input type="radio" name="voucher" value="20" style="margin-right:0.6rem;"> ₱20 OFF
      </label>
      <label style="cursor:pointer;">
        <input type="radio" name="voucher" value="50" style="margin-right:0.6rem;"> Free Shipping (₱50 OFF)
      </label>
    </form>

    <div style="margin-top:1.5rem; display:flex; justify-content: space-between;">
      <button id="closeVoucherBtn" style="background:#eee; border:none; padding:8px 16px; border-radius:5px; cursor:pointer;">Cancel</button>
      <button id="applyVoucherBtn" style="background:#ff66a8; color:#fff; border:none; padding:8px 16px; border-radius:5px; cursor:pointer;">Apply Voucher</button>
    </div>
  </div>
</div>



  <script>
// Function to update the cart row with data from localStorage
function loadCartFromStorage() {
  const cart = JSON.parse(localStorage.getItem('cartItems')) || [];
  if (cart.length > 0) {
    const item = cart[0]; // Assuming single item for now; take the first one
    const row = document.querySelector('.order-row');
    if (row) {
      // Update image
      const img = row.querySelector('.product-img');
      img.src = item.image;
      img.alt = item.name;

      // Update name
      const nameEl = row.querySelector('.product-name');
      nameEl.textContent = item.name;

      // Update price
      const priceEl = row.querySelector('.product-price');
      priceEl.textContent = `₱${item.price.toFixed(2)}`;

      // Update quantity and total (assuming qty=1 initially)
      const qtyInput = row.querySelector('.qty-input');
      qtyInput.value = item.qty;
      const totalEl = row.querySelector('.order-total');
      totalEl.textContent = `₱${(item.price * item.qty).toFixed(2)}`;

      // Set dropdown to match the product
      const dropdown = row.querySelector('.variation-dropdown');
      const option = Array.from(dropdown.options).find(opt => opt.value === item.name);
      if (option) {
        dropdown.value = item.name;
      }

      // Call any existing total update functions (from product.js)
      if (typeof updateGrandTotal === 'function') updateGrandTotal();
      if (typeof updateCheckoutCount === 'function') updateCheckoutCount();
    }
  }
}

// Run on page load
document.addEventListener('DOMContentLoaded', loadCartFromStorage);
</script>

  <!-- ✅ JS FILE -->
  <script src="product.js"></script>
</body>
</html>